# Scratch notes


## Basic info & connection params stuff
- Device name advertised as: `LEDneWF02001D0CDC48`
- Wireshark says it's a `JMZengge`
- UUID: FF00
  - 0xFF22 - read/write without response notify
  - 0xFF11 - write without response
- UUID: FFFF
  - 0xFF02 - Read notify
  - 0xFF01 - write

Based on previous escapades in BLE I assume you have to enable notifications by writing to one of the notification endpoints on FFFF.

Not sure if this is relevant:
MTU: 200 bytes
Command length: 8
Min interval: 16 (20 msec)
Max interval: 24 (30 msec)
Timeout multiplier: 600 (6 sec)

## Initial conversation

### Probably enabling a notification

We sent:
```
0000   02 02 00 09 00 05 00 04 00 12 15 00 01 00         ..............
```
 - Write Request 0x12
 - Handle: 0x0015
   - Service UUIDL 0xffff
   - Characteristic: 0xff02
   - UUID: 0x2902

We received:
```
0000   02 02 20 05 00 01 00 04 00 13                     .. .......
```
 - Write response: 0x13
 - Handle: 0x0015
   - Service: 0xffff
   - Char: 0xff02
   - UUID: 0x2902

Characteristic Configuration Client: 0x0001, Notification


### Next write request (perhaps some kind of set up)

We sent:
```
0000   02 02 00 13 00 0f 00 04 00 12 17 00 00 01 80 00   ................
0010   00 04 05 0a 81 8a 8b 96                           ........
```
 - Write request 0x12
 - Handle: 0x0017
   - Service: 0xffff
   - UUID: 0xff01

Value is hex:  `00 01 80 00 00 04 05 0a 81 8a 8b 96`

which results in us being sent this over multiple frames:

```
0000   3e 00 04 00 1b 14 00 04 43 80 00 00 33 34 0a 7b   >.......C...34.{
0010   22 63 6f 64 65 22 3a 30 2c 22 70 61 79 6c 6f 61   "code":0,"payloa
0020   64 22 3a 22 38 31 31 44 32 33 32 35 30 45 30 30   d":"811D23250E00
0030   33 32 33 32 46 46 30 30 30 32 30 30 33 30 38 39   3232FF0002003089
0040   22 7d                                             "}
```

`>C34 {"code":0,"payload":"811D23250E003232FF0002003089"}`

`04 43 80 00 00 33 34 0a 7b 22 63 6f 64 65 22 3a 30 2c 22 70 61 79 6c 6f 61 64 22 3a 22 38 31 31 44 32 33 32 35 30 45 30 30 33 32 33 32 46 46 30 30 30 32 30 30 33 30 38 39 22 7d`
`    C           3  4 sp  {  "  c  o  d  e  "  :  0  ,  "  p  a  y  l  o  a  d  "  :  "  8  1  1  D  2  3  2  5  0  E  0  0  3  2  3  2  F  F  0  0  0  2  0  0  3  0  8  9  "  }`

I would guess that this is an 8 byte header?


We then send:
```
0000   02 02 00 1b 00 17 00 04 00 12 17 00 00 02 80 00   ................
0010   00 0c 0d 0b 10 14 16 0a 1d 0e 20 00 06 00 0f a4   .......... .....
```
 - Write request 0x12
   - Handle: 0x0017
   - Service: 0xffff
   - UUID: 0xff01

Value in hex: `00 02 80 00 00 0c 0d 0b 10 14 16 0a 1d 0e 20 00 06 00 0f a4`

We received a write response.

Then we send (to the same service and UUID):
Value in hex: `00 03 80 00 00 0c 0d 0b 10 14 16 0a 1d 0e 20 00 06 00 0f a4`

We received a write response and then

In summary, these are the three payloads we sent:
 - `00 01 80 00 00 04 05 0a 81 8a 8b 96`
 - `00 02 80 00 00 0c 0d 0b 10 14 16 0a 1d 0e 20 00 06 00 0f a4`
 - `00 03 80 00 00 0c 0d 0b 10 14 16 0a 1d 0e 20 00 06 00 0f a4`

### Toggling the light on and off from the app

I think the first "on" request looks like this:

- Service: 0xffff
- UUID: 0xff01
Payload: `02 02 00 1c 00 18 00 04 00 12 17 00 00 04 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91`

which results in receiving this:
`3e 00 04 00 1b 14 00 04 44 80 00 00 33 34 0c     7b22636f6465223a302c227061796c6f6164223a2238313144323432353045303033323332464630303032303033303841227d`
`>D34                                            {"code":0,"payload":"811D24250E003232FF000200308A"}`

The I think the first "off" request looks like this:
- Service: 0xffff
- UUID: 0xff01
Payload: `02 02 00 1c 00 18 00 04 00 12 17 00 00 05 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90`
and we receive:
`3e 00 04 00 1b 14 00 04 45 80 00 00 33 34 0c  7b22636f6465223a302c227061796c6f6164223a2238313144323332353045303033323332464630303032303033303839227d`
`>E34                                         {"code":0,"payload":"811D23250E003232FF0002003089"}`

If I look at just on the on/off messages I sent they look like this (including packet headers `02 02 00 1c 00 18` etc):

```
02 02 00 1c 00 18 00 04 00 12 17 00 00 04 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
02 02 00 1c 00 18 00 04 00 12 17 00 00 05 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90
02 02 00 1c 00 18 00 04 00 12 17 00 00 06 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
02 02 00 1c 00 18 00 04 00 12 17 00 00 07 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90
02 02 00 1c 00 18 00 04 00 12 17 00 00 08 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
02 02 00 1c 00 18 00 04 00 12 17 00 00 09 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90
02 02 00 1c 00 18 00 04 00 12 17 00 00 0a 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
02 02 00 1c 00 18 00 04 00 12 17 00 00 0b 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90
02 02 00 1c 00 18 00 04 00 12 17 00 00 0c 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
02 02 00 1c 00 18 00 04 00 12 17 00 00 0d 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90
02 02 00 1c 00 18 00 04 00 12 17 00 00 0e 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91
```

### Changing some colours.  RGB Only

Skipping all the preamble, let's look at the values of the write messages first.  In a big list to see if we can spot the patterns.  Starting from opening the app.

```
0028000000c0d0b1014160a1d12032806000fb3
0038000000c0d0b1014160a1d12032806000fb3

0004 8000000d0e0b3b23 000000 00000000 32 00 00 90
0005 8000000d0e0b3b24 000000 00000000 32 00 00 91
0006 8000000d0e0b3b23 000000 00000000 32 00 00 90
0007 8000000d0e0b3b24 000000 00000000 32 00 00 91
0008 8000000d0e0b3b23 000000 00000000 32 00 00 90
0009 8000000d0e0b3b24 000000 00000000 32 00 00 91
000a 8000000d0e0b3b23 000000 00000000 32 00 00 90
000b 8000000d0e0b3b24 000000 00000000 32 00 00 91
000c 8000000d0e0b3b23 000000 00000000 32 00 00 90
000d 8000000d0e0b3b24 000000 00000000 32 00 00 91
000e 8000000d0e0b3b23 000000 00000000 32 00 00 90

000f 8000000d0e0b3ba1 3c6464 00000000 00 00 00 e0
0010 8000000d0e0b3ba1 3c6464 00000000 00 00 00 e0
0011 8000000d0e0b3ba1 3c6464 00000000 00 00 00 e0
0012 8000000d0e0b3ba1 3c6464 00000000 00 00 00 e0
0013 8000000d0e0b3ba1 3c6464 00000000 00 00 00 e0
0014 8000000d0e0b3ba1 786464 00000000 00 00 00 1c
0015 8000000d0e0b3ba1 786464 00000000 00 00 00 1c
0016 8000000d0e0b3ba1 786464 00000000 00 00 00 1c
0017 8000000d0e0b3ba1 786464 00000000 00 00 00 1c
0018 8000000d0e0b3ba1 786464 00000000 00 00 00 1c
0019 8000000d0e0b3ba1 006464 00000000 00 00 00 a4
001a 8000000d0e0b3ba1 006464 00000000 00 00 00 a4
001b 8000000d0e0b3ba1 006464 00000000 00 00 00 a4

001c 8000000d0e0b3b24 000000 00000000 32 00 00 91
```

I ignore the first two packets, I expect they are some handshaking.  Everything breaks up reasonably neatly as I have done with the spaces.
 - First two bytes are a counter
 - The next eight bytes seem to stay the same
 - The next three bytes differ at the top (and the last packet which is an off I think) and the middle section which is where I was changing the colours.  6 bytes for colours would be RGB, but the numbers don't make sense)
 - The last byte really looks like a checksum.  It's always the same for each of the commands, so isn't effected by the counter.

## More colour changing


Trace with times
On 18:57

Full color 18:57
Press on
Press red 18:58
5 times
Dragged to red
slid around colours
fiddle with saturation
brightness
down, all down, up
off

```
	18:58:04   	0005 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:06   	0006 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:08   	0007 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:24   	0008 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:24   	0009 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:25   	000a 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:25   	000b 8000000d0e0b3ba1 006464 00000000000000a4	
	18:58:46   	000c 8000000d0e0b3ba1 40e464 0000000000000064	
	18:58:46   	000d 8000000d0e0b3ba1 40e464 0000000000000064	
	18:58:58   	000e 8000000d0e0b3ba1 43e464 0000000000000067	
	18:58:58   	000f 8000000d0e0b3ba1 43e464 0000000000000067	
	18:59:01   	0010 8000000d0e0b3ba1 52e464 0000000000000076	
	18:59:01   	0011 8000000d0e0b3ba1 52e464 0000000000000076	
	18:59:03   	0012 8000000d0e0b3ba1 5fe464 0000000000000083	
	18:59:04   	0013 8000000d0e0b3ba1 5fe464 0000000000000083	
	18:59:05   	0014 8000000d0e0b3ba1 6be464 000000000000008f	
	18:59:05   	0015 8000000d0e0b3ba1 6be464 000000000000008f	
	18:59:06   	0016 8000000d0e0b3ba1 706464 0000000000000014	
	18:59:06   	0017 8000000d0e0b3ba1 706464 0000000000000014	
	18:59:08   	0018 8000000d0e0b3ba1 766464 000000000000001a	
	18:59:08   	0019 8000000d0e0b3ba1 766464 000000000000001a	
	18:59:10   	001a 8000000d0e0b3ba1 7ee464 00000000000000a2	
	18:59:10   	001b 8000000d0e0b3ba1 7ee464 00000000000000a2	
	18:59:11   	001c 8000000d0e0b3ba1 856464 0000000000000029	
	18:59:11   	001d 8000000d0e0b3ba1 856464 0000000000000029	
	18:59:14   	001e 8000000d0e0b3ba1 8b6464 000000000000002f	
	18:59:14   	001f 8000000d0e0b3ba1 8b6464 000000000000002f	
	18:59:14   	0020 8000000d0e0b3ba1 91e464 00000000000000b5	
	18:59:14   	0021 8000000d0e0b3ba1 91e464 00000000000000b5	
	18:59:15   	0022 8000000d0e0b3ba1 9ae464 00000000000000be	
	18:59:15   	0023 8000000d0e0b3ba1 9ae464 00000000000000be	
	18:59:15   	0024 8000000d0e0b3ba1 9fe464 00000000000000c3	
	18:59:16   	0025 8000000d0e0b3ba1 9fe464 00000000000000c3	
	18:59:16   	0026 8000000d0e0b3ba1 aae464 00000000000000ce	
	18:59:16   	0027 8000000d0e0b3ba1 aae464 00000000000000ce	
	18:59:17   	0028 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:17   	0029 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:17   	002a 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:18   	002b 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:19   	002c 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:19   	002d 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:25   	002e 8000000d0e0b3ba1 005264 0000000000000092	
	18:59:25   	002f 8000000d0e0b3ba1 005264 0000000000000092	
	18:59:26   	0030 8000000d0e0b3ba1 003c64 000000000000007c	
	18:59:26   	0031 8000000d0e0b3ba1 003c64 000000000000007c	
	18:59:27   	0032 8000000d0e0b3ba1 002364 0000000000000063	
	18:59:27   	0033 8000000d0e0b3ba1 002364 0000000000000063	
	18:59:30   	0034 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:30   	0035 8000000d0e0b3ba1 006464 00000000000000a4	
	18:59:49   	0036 8000000d0e0b3ba1 006406 0000000000000046	
	18:59:49   	0037 8000000d0e0b3ba1 006406 0000000000000046	
	18:59:53   	0038 8000000d0e0b3ba1 006400 0000000000000040	
	18:59:53   	0039 8000000d0e0b3ba1 006400 0000000000000040	
	18:59:56   	003a 8000000d0e0b3ba1 006464 00000000000000a4
	18:59:56   	003b 8000000d0e0b3ba1 006464 00000000000000a4

```

Those colours just don't look right at all.

If you go here:  https://jsbin.com/bezomev/edit?html,css,js,output
and paste that col. in you see things like: https://imgur.com/a/mZloElF

Get another trace of just pressing the red, green, blue buttons.
Strip out all the common parts, and we're left with...

```
 00 64 64
 00 64 64
 00 64 64
 00 64 64
 3c 64 64
 3c 64 64
 3c 64 64
 3c 64 64
 78 64 64
 78 64 64
 78 64 64
 78 64 64
 78 64 64
```

... I don't think this is RGB at all.

What about HSL?

0 = red
120 = green
240 = blue

Let's convert the numbers in to decimal.  I might not need all the columns, but try it anyway...

```
0   100 100
0   100 100
0   100 100
60  100 100
60  100 100
60  100 100
120 100 100
120 100 100
120 100 100 
```

Welp, what if we multiplied the first column by 2?

```
0
0
0
120
120
120
240
240
240
```

That looks familiar, but, like, really though?
Maybe first byte here is hue then?

Now we need to try it out with some brightness changes.

red
red
red
blue
blue
blue
green
50% sat
0% sat
50% sat
100% sat
75% sat
100% sat
50% bright
0% bright
25% bright
50% bright
75% bright
100% bright
red

file: hsl_test.log

```
0004 800000 0d 0e0b3ba1   00 64 64   00 000000000000 a4
0005 800000 0d 0e0b3ba1   78 64 64   00 000000000000 1c
0006 800000 0d 0e0b3ba1   78 64 64   00 000000000000 1c
0007 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
0008 800000 0d 0e0b3ba1   3c 31 64   00 000000000000 ad
0009 800000 0d 0e0b3ba1   3c 31 64   00 000000000000 ad
000a 800000 0d 0e0b3ba1   00 00 64   00 000000000000 40
000b 800000 0d 0e0b3ba1   00 00 64   00 000000000000 40
000c 800000 0d 0e0b3ba1   3c 35 64   00 000000000000 b1
000d 800000 0d 0e0b3ba1   3c 35 64   00 000000000000 b1
000e 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
000f 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
0010 800000 0d 0e0b3ba1   3c 4c 64   00 000000000000 c8
0011 800000 0d 0e0b3ba1   3c 4c 64   00 000000000000 c8
0012 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
0013 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
0014 800000 0d 0e0b3ba1   3c 64 32   00 000000000000 ae
0015 800000 0d 0e0b3ba1   3c 64 32   00 000000000000 ae
0016 800000 0d 0e0b3ba1   3c 64 00   00 000000000000 7c
0017 800000 0d 0e0b3ba1   3c 64 00   00 000000000000 7c
0018 800000 0d 0e0b3ba1   3c 64 1c   00 000000000000 98
0019 800000 0d 0e0b3ba1   3c 64 1c   00 000000000000 98
001a 800000 0d 0e0b3ba1   3c 64 34   00 000000000000 b0
001b 800000 0d 0e0b3ba1   3c 64 34   00 000000000000 b0
001c 800000 0d 0e0b3ba1   3c 64 4a   00 000000000000 c6
001d 800000 0d 0e0b3ba1   3c 64 4a   00 000000000000 c6
001e 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
001f 800000 0d 0e0b3ba1   3c 64 64   00 000000000000 e0
0020 800000 0d 0e0b3ba1   00 64 64   00 000000000000 a4
```

Once more to really make sure.  File:

Connect
On green

Set Bri 100% Sat 100%
Set bri 50%  sat 100%
Set bri 25%  sat 100%
Set bri 0%   sat 100%
Set bri 100% sat 100%
Set red
Set blue

File: finalhsltest.log

RGB: [0, 0, 0]
RGB: [0, 255, 0]
RGB: [0, 132, 0]
RGB: [0, 61, 0]
RGB: [0, 0, 0]
RGB: [0, 255, 0]
RGB: [255, 0, 0]
RGB: [0, 0, 255]

Success! 

It's taken pretty much all day, but I think I have the colour settings understood.  I still can't send messages yet, but that can come next.
It's HSV, where the first byte is H/2 (so it will fit in one byte).


## Day 2

Let's look at the white LEDs to start with.

White on.
Click through the white colours from warm to cool.
Brightness 100%, 75%, 50%, 25%, 0, 50 , 100
off

The first line is from the previous RGB experiments so we can compare and contrast.

```
0026 8000000d 0e0b3b a1 aae464 0000 0000000000 ce

0004 8000000d 0e0b3b 23 000000 0000 0000320000 90 - power on

0005 8000000d 0e0b3b b1 000000 0064 0000000000 50
0006 8000000d 0e0b3b b1 000000 1464 0000000000 64
0007 8000000d 0e0b3b b1 000000 2864 0000000000 78
0008 8000000d 0e0b3b b1 000000 3c64 0000000000 8c
0009 8000000d 0e0b3b b1 000000 5064 0000000000 a0
000a 8000000d 0e0b3b b1 000000 6464 0000000000 b4
000b 8000000d 0e0b3b b1 000000 6444 0000000000 94
000c 8000000d 0e0b3b b1 000000 642e 0000000000 7e
000d 8000000d 0e0b3b b1 000000 6415 0000000000 65
000e 8000000d 0e0b3b b1 000000 6401 0000000000 51
000f 8000000d 0e0b3b b1 000000 642e 0000000000 7e
0010 8000000d 0e0b3b b1 000000 6464 0000000000 b4

0011 8000000d 0e0b3b 24 000000 0000 0000320000 91 - power off
```

The white led settings are the two bytes after the RGB colours by the looks of it.  They max out at 0x64 which is 100, so I would assume
that it's a percentage, certainly for the brightness which is the 2nd of the two bytes.
Also note that byte 10 has changed from 0xa1 to 0xb1 for white led control.

That was easy.

# symphony

This is the effects stuff.  From the main screen I did this...

speed 100
speed 50
speed 0 
speed 10
speed 75
speed 100
brightness 75
b 50
b 25
b 0
b 25
b 50
b 75
b 100

click throu the effects 1 by 1 for 10
 off
 
```
0002 800000 0c0d0b1014160a1e0a192907000fc4
0003 800000 0c0d0b1014160a1e0a192907000fc4
0012 800000 0d0e0b3ba1 3c6464 0000 0000000000 e0 - rgb command
000c 800000 0d0e0b3bb1 000000 642e 0000000000 7e - white command

cntr ?????? mode?    e  s  b
0004 800000 04050b38 01 64 64
0005 800000 04050b38 01 32 64
0006 800000 04050b38 01 01 64
0007 800000 04050b38 01 33 64
0008 800000 04050b38 01 4d 64
0009 800000 04050b38 01 64 64
000a 800000 04050b38 01 64 4c
000b 800000 04050b38 01 64 32
000c 800000 04050b38 01 64 16
000d 800000 04050b38 01 64 00
000e 800000 04050b38 01 64 1a
000f 800000 04050b38 01 64 34
0010 800000 04050b38 01 64 4c
0011 800000 04050b38 01 64 64
0012 800000 04050b38 01 64 64
0013 800000 04050b38 02 64 64
0014 800000 04050b38 03 64 64
0015 800000 04050b38 04 64 64
0016 800000 04050b38 05 64 64
0017 800000 04050b38 06 64 64
0018 800000 04050b38 07 64 64
0019 800000 04050b38 08 64 64
001a 800000 04050b38 09 64 64
001b 800000 04050b38 0a 64 64
0005 800000 04050b38 01 64 64
0006 800000 04050b38 02 64 64
0007 800000 04050b38 03 64 64
0008 800000 04050b38 04 64 64
0009 800000 04050b38 71 64 64

001c 800000 0d0e0b3b240000000000000032000091 - off
```

Starting to look like we have 4 bytes counter, 3 bytes fixed as `80 00 00` over all commands.  The the effects have a different 4 bytes to the colours, but seems fixed during all effects.  Then a byte for effect number, a byte for speed and a byte for brightness.  These packets are shorter than the colour packets and don't seem to have a checksum at all.


# Music mode
I have no interest in getting this working, so not going to spend time on it.  If you're interested please get in touch.

# Smear
This tool is quite hard to use in the app, and I'm not really sure how it works.  I think it might be useful though, so I'm going to try and work it out.  How hard can it be?
It's probably a long list of pixel colours.

diy 1 - red
diy 2 - green (might have missed the button here, I don't see it in the traces)
diy 3 - blue
slider to red
slider to green
slider to red
click paint tool
start at 12 o clock and draw round to 6 o clock
green
start at 12 go to 6
click erase
start at 12, anti clockwise to 6
off

```
0001 8000000 40 50 a818a8b96
0002 8000000 c0 d0 b1014160a1e0b110807000f9 c7
0003 8000000 c0 d0 b1014160a1e0b110907000f9 d7

|-------fixed---------------| cnt? same   cmd? 
0202 00a5 00a1 0004 0012 1700 0004 800000 9697 0b59 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff00000 1333200 8f
0202 00a5 00a1 0004 0012 1700 0004 800000 9697 0b59 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff00000 1333200 8f
0202 00a5 00a1 0004 0012 1700 0006 800000 9697 0b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff0 1333200 8f
0202 00a5 00a1 0004 0012 1700 0007 800000 9697 0b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff0 1333200 8f
0202 00a5 00a1 0004 0012 1700 0008 800000 9697 0b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff0 1333200 8f
0202 00a5 00a1 0004 0012 1700 0009 800000 9697 0b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff0 1333200 8f
0202 00a5 00a1 0004 0012 1700 000a 800000 9697 0b59 d40000 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d400000 1333200 87
0202 00a5 00a1 0004 0012 1700 000b 800000 9697 0b59 d40000 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d400000 1333200 87
0202 00a5 00a1 0004 0012 1700 000c 800000 9697 0b59 19d400 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff d40000 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d4000 1333200 c6
0202 00a5 00a1 0004 0012 1700 000d 800000 9697 0b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d400 19d4000 1333200 30
0202 001c 0018 0004 0012 1700 000e 800000 0d0e 0b3b 240000 000000 000032 000091 - off?
```

Notes: 
 - There is a new header First 12 bytes seem to be the same for each line of RGB data
 - Then there is a counter by the looks of it (yes, this continues to increment from where the previous commands left off when changing modes)
 - Then the classic 800000 we've seen before (what is this??)
 - Then two bytes of something which is the same for the colour settings and different for the last command which I think must be an off
 - There are 48 RGB tuples per line, and according to the app there are 48 RGB LEDs.  So this is probably just a stream of colours for each LED in turn. Nice!
 - Then there is a fixed tail.  I don't think the last bit is a checksum, I think it's some kind of command indicator.  edit: this is used for the modes in smear.
 - I don't think moving the slider in the app sends any data, only the pattern is sent whole.  Makes sense


Next test:
its off
smear
All red (doy 1)
All green
All blue
Erase all
Red
Draw 12 - 6 clock wise
Erase 12 - 6 clock wise
Green
Draw 12 - 6 anti clock wise
Erase 12 - 6 anti close wise
off

(messed this up a bit, but should still be understandable.  Clicked the wrong thing)

```
00028000000c0d0b1014160a1e0b360507000fbe
00038000000c0d0b1014160a1e0b360507000fbe
020200a500a1000 400121700 0004 800000 96970b59 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 01333200 8f
020200a500a1000 400121700 0005 800000 96970b59 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 00ff00 01333200 8f
020200a500a1000 400121700 0006 800000 96970b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 01333200 8f
020200a500a1000 400121700 0007 800000 96970b59 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 000000 000000 000000 0000ff 0000ff 0000ff 01333200 92
020200a500a1000 400121700 0008 800000 96970b59 000000 000000 000000 000000 000000 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 0000ff 000000 000000 000000 000000 000000 000000 01333200 9a
020200a500a1000 400121700 0009 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 000a 800000 96970b59 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 ff0000 01333200 8f
020200a500a1000 400121700 000b 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 000c 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 000d 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 000e 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 000f 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 0010 800000 96970b59 d40000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 d40000 01333200 9f
020200a500a1000 400121700 0011 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 d40000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 93
020200a500a1000 400121700 0012 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 d40000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 93
020200a500a1000 400121700 0013 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 d40000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 93
020200a500a1000 400121700 0014 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 0015 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 0015 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 0016 800000 96970b59 27d400 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 01333200 47
020200a500a1000 400121700 0017 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 0018 800000 96970b59 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 33
020200a500a1000 400121700 0019 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 bf
020200a500a1000 400121700 001a 800000 96970b59 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 27d400 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01333200 33

001b 80 00 00 0d 0e 0b 3b 23 00 00 00 00 00 00 00 32 00 00 90 - on 
001c 80 00 00 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91 - off
```

All black
Advanced Smear Mode
Lightning 80
Lightning 100
Lightning 50
L 25
L 1
L 100
Bright 100
0 
50
100
Stream one way
Stream the other
Strobe
Jump
off

```
0001 800000 04050a818a8b96
0002 800000 0c0d0b1014160a1e0d2c1307000fc4
0003 800000 0c0d0b1014160a1e0d2c1307000fc4
020200a500a1000 400121700 0019 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 33 32 00 bf - previous edits for comparison
020200a500a1000 400121700 0004 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 33 32 00 bf
020200a500a1000 400121700 0005 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 33 32 00 bf
020200a500a1000 400121700 0006 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 59 32 00 e5
020200a500a1000 400121700 0007 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 32 00 f0
020200a500a1000 400121700 0008 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 33 32 00 bf
020200a500a1000 400121700 0009 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 17 32 00 a3
020200a500a1000 400121700 000a 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 01 32 00 8d
020200a500a1000 400121700 000b 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 32 00 f0
020200a500a1000 400121700 000c 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 64 00 22
020200a500a1000 400121700 000d 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 00 00 be
020200a500a1000 400121700 000e 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 33 00 f1
020200a500a1000 400121700 000f 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 01 64 64 00 22
020200a500a1000 400121700 0010 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 02 64 64 00 23
020200a500a1000 400121700 0011 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 02 64 64 00 23
020200a500a1000 400121700 0012 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 02 64 64 00 23
020200a500a1000 400121700 0013 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 02 64 64 01 24
020200a500a1000 400121700 0014 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 03 64 64 01 25
020200a500a1000 400121700 0015 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 03 64 64 00 24
020200a500a1000 400121700 0016 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 04 64 64 00 25
020200a500a1000 400121700 0017 800000 96970b59 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 000000 04 64 64 00 25

00188000000d0e0b3b240000000000000032000091 - off

```

## Conclusion for smear:
- The packets are 170 bytes long
- There is a 12 byte header of some sort.  Seems fixed.
- Then there is the counter.  I'm reasonably sure this is a two byte counter
- Then there is a three byte "80 00 00" which we've seen elsewhere
- Then four bytes which stay the same
- Then 48 bytes of RRGGBB. Pixel zero is where the wire enters the metal circle and then with the stand on the left they go clockwise 
- Then there are 5 bytes:
  - mode (1 stream one way, 2 stream the other, 3 strobe, 4 jump)
  - Speed (1 - 100%)
  - Brightness (1-100%)
  - ?
  - ?  checksum perhaps?

# Timer
all red
timer button
time 14:18
create timer
time set 14:30 to turn off
confirm
create timer 14:45 turn on
create timer 15:00 turn on repeat sun, wed, sat turn on

```
0001 800000 04 05 0a 81 8a 8b 96
                                 M? H?
0002 800000 0c 0d 0b 10 14 16 0a 1e 0e 11 31 07 00 0f c8
0003 800000 0c 0d 0b 10 14 16 0a 1e 0e 11 31 07 00 0f c8
0004 800000 0d 0e 0b 3b a1 00 64 64 00 00 00 00 00 00 00 a4
0005 800000 05 06 0a 22 2a 2b 0f 86
0006 800000 05 06 0a 11 1a 1b 0f 55
```

This is non-obvious.  Not important for now.


# Initial conection

Enable BT in app
Scans
Gets some basic info
Click in
Connects
Turn off
Back to main screen
exit

1. MTU negotiation 200 bytes.  Later tablet asked for 256, but light said 200.
2. A load of service discovery stuff I don't really understand. Not sure where the setting the notification is happening
3. First outgoing request to light is: handle: 0x0017 service UUID: 0xffff, UUID: 0xff01.  Value `0001 800000 04 05 0a 81 8a 8b 96` 
4. Recvd handle value notification. Handle 0x0014. UUID 0xffff. UUID: 0xff02. Value `046d80000033340a7b22636f6465223a302c227061796c6f6164223a2238313144323336314630303046463030303030303032303033303433227d`
5. Sent (0xffff 0xff01) `0002 800000 0c 0d 0b 10 14 16 0a 1e 0e 39 2f 07 00 0f ee`
6. Sent (0xffff 0xff01) `0003 800000 0c 0d 0b 10 14 16 0a 1e 0e 39 2f 07 00 0f ee`
7. Sent (0xffff 0xff01) `0004 800000 0d 0e 0b 3b 24 00 00 00 00 00 00 00 32 00 00 91` (I think this is an on or an off)
8. Rxed (0xffff 0xff02) `046e80000033340c7b22636f6465223a302c227061796c6f6164223a2238313144323436314630303046463030303030303032303033303434227d`

